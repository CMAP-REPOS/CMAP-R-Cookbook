---
title: "Applying CMAP color schemes"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Applying CMAP color schemes}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.width = 7,
  fig.asp = 400/670,
  fig.retina = 4,
  fig.align = "center"
)

library(tidyverse)
library(cmapplot)
```

Palettes based on the CMAP color palette can be applied directly to ggplot graphics. The package contains both discrete and continuous color palettes. Each type of palette can be applied to either the color or fill attributes of a ggplot.


## Discrete palettes

Add discrete palettes by adding either the `cmap_fill_discrete()` or `cmap_color_discrete()` function to your plot construction. Note that discrete palettes will automatically interpolate additional colors if the dataset has more colors than the palette. This can be helpful but is not ideal for finished graphics.

```{r disc, eval=TRUE}
ggplot(percentile_wages, aes(x = percentile, y = wage, color = cluster)) +
  geom_line() +
  scale_y_continuous(labels = scales::dollar) +
  theme_cmap() +
  cmap_color_discrete(palette = "prosperity")
```

See the discrete palettes reference page for displays of all palettes.


## Continuous palettes

Add continuous palettes by adding either the `cmap_fill_continuous()` or `cmap_color_continuous()` function to your plot construction. For example:

```{r cont, eval=TRUE}
percentile_wages %>%
  filter(cluster %in% c("Biopharmaceuticals", "Hospitality and Tourism", "Paper and Packaging")) %>%
  ggplot(aes(x = cluster, y = wage, color = percentile)) +
  geom_point(size = 5) +
  scale_y_continuous(labels = scales::dollar) +
  coord_flip() +
  theme_cmap() +
  cmap_color_continuous(palette = "seq_red_purple")
```

See the gradients reference page for displays of all gradients.


## Race/ethnicity palette

If you have a graph with categories based on race and ethnicity, there are functions to apply pre-determined colors for each demographic group: `cmap_fill_race()` and `cmap_color_race()`. In the arguments, specify the case-sensitive name of each group as it appears in your data. The function will operate even if you do not have every group.

```{r race, eval=TRUE}
# example
```


## Highlighting categories

If you want to draw attention to a specific group in your graph, use `cmap_fill_highlight()` or `cmap_color_highlight()`. This will make your highlighted group one color and all other groups identical in another color. Specify the vector in your data that determines the groups, and then the value of the group to be singled out. The highlight and 'other' colors have defaults, but can be changed with hexcode strings.

```{r hlgt, eval=TRUE}
# example
```

