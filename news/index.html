<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • cmapplot</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />
<meta property="og:image" content="https://cmap-repos.github.io/cmapplot/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cmapplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/installation.html">Installing cmapplot on a CMAP computer</a>
    </li>
    <li>
      <a href="../articles/plots.html">Creating CMAP-themed plots</a>
    </li>
    <li>
      <a href="../articles/finalize.html">Finalizing and exporting CMAP-themed plots</a>
    </li>
    <li>
      <a href="../articles/colors.html">Applying CMAP color schemes</a>
    </li>
    <li>
      <a href="../articles/cookbook.html">A cookbook for cmapplot</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/CMAP-REPOS/cmapplot/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/CMAP-REPOS/cmapplot/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="cmapplot-120" class="section level1">
<h1 class="page-header" data-toc-text="1.2.0">
<a href="#cmapplot-120" class="anchor"></a>cmapplot 1.2.0</h1>
<p>PR <a href='https://github.com/CMAP-REPOS/cmapplot/issues/123'>#123</a></p>
<p>This is a version-level update that includes many fixes and new features and introduces new dependencies, most significantly RStudio 1.4 or greater.</p>
<div id="new-features" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New features</h3>
<ul>
<li>cmapplot now utilizes the new systemfonts package for custom font rendering, rather than sysfonts on Windows and X11fonts on Mac and other Unix-based machines. In addition, raster exports from <code>finalize_plot</code> now rely on the new raster drawing package ragg. These changes improve font accuracy and consistency across platforms. Note that this improvement does not yet extend to svg outputs, but may in the future (<a href='https://github.com/CMAP-REPOS/cmapplot/issues/134'>#134</a>).</li>
<li>When an axis breaks are 4-digit years, new function <code>abbr_years</code> allows the conversion of specific years to 2-digit abbreviations, as is common on some designed CMAP graphics.</li>
<li>
<code>cmapplot_globals</code>, which contains key package constants, is now an internal environment rather than an exported list. It can be accessed via new functions <code>get_cmapplot_globals</code> and <code>get_cmapplot_global</code>. Constants can now be overridden by the user for the current session by using <code>set_cmapplot_global</code>. Note that this does not yet apply to geom aesthetics set by the package, but may in the future (issue <a href='https://github.com/CMAP-REPOS/cmapplot/issues/117'>#117</a>).</li>
<li>All palettes programmed into the package have been moved into a tibble at <code>cmapplot_globals$palettes</code>. A new function <code>fetch_pal</code> can be used to get details about any specific palette.</li>
</ul>
</div>
<div id="bug-fixes" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug fixes</h3>
<ul>
<li>Continuous color gradients can now be used on discrete color scales. E.g. <code>cmap_color_discrete</code> and <code>cmap_fill_discrete</code> can now call gradients as well as discrete palettes (see <a href='https://github.com/CMAP-REPOS/cmapplot/issues/70'>#70</a> and <a href='https://github.com/CMAP-REPOS/cmapplot/issues/119'>#119</a>)</li>
<li>Nomenclature in help files (e.g. “palette” vs “scale”) has been adjusted for clarity.</li>
<li>internal table <code>recessions</code> has been updated to include the business cycle contraction that began in Feb 202 (no end date for this cycle yet).</li>
<li>
<code>geom_recessions</code> and related <code>update_recessions</code> have been updated to allow for ongoing recessions, improve NBER source for recessions table, and decrease likelihood of data fetch errors.</li>
</ul>
</div>
<div id="backend-changes" class="section level3">
<h3 class="hasAnchor">
<a href="#backend-changes" class="anchor"></a>Backend changes</h3>
<ul>
<li>pkgdown site now correctly displays Whitney fonts and margin description images</li>
<li>backend script reorganization</li>
<li>improvements to pkgdown build github action, including ability to publish a test site</li>
</ul>
</div>
<div id="backward-compatibility-notes" class="section level3">
<h3 class="hasAnchor">
<a href="#backward-compatibility-notes" class="anchor"></a>Backward compatibility notes</h3>
<ul>
<li><strong>This package will now only render Whitney Fonts in RStudio when RStudio version &gt;= 1.4</strong></li>
<li>
<code>finalize_plot</code>’s <code>window</code> mode has been disabled for now, due to inability to use ragg drivers in independent window devices. Use <code>mode = "plot"</code> and click the “Zoom” button in the plot window instead.</li>
<li>
<code>cmapplot_globals</code>, the exported list of package constants, has been removed (See new features <code>set_cmapplot_global</code> etc)</li>
<li>Color lists <code>cmap_palettes</code> and <code>cmap_gradients</code> have been removed (This information has been moved to <code>cmapplot_globals$palettes</code>. To access palette colors directly, use, say <code><a href="../reference/viz_palette.html">fetch_pal("reds")</a></code> rather than <code>cmap_gradients$reds</code>.</li>
<li>
<code>viz_palette</code> and <code>viz_gradient</code> now take as a first argument either the name of a palette (e.g. <code>"reds"</code>) or the color palette itself (e.g. <code><a href="../reference/viz_palette.html">fetch_pal("reds")</a></code>). <code><a href="../reference/viz_palette.html">viz_palette(cmap_gradient$reds)</a></code> no longer works.</li>
<li>
<code>integer_breaks</code> removed from package</li>
</ul>
</div>
</div>
    <div id="cmapplot-110" class="section level1">
<h1 class="page-header" data-toc-text="1.1.0">
<a href="#cmapplot-110" class="anchor"></a>cmapplot 1.1.0</h1>
<p>PR <a href='https://github.com/CMAP-REPOS/cmapplot/issues/111'>#111</a> | February 24, 2021</p>
<p>PR <a href='https://github.com/CMAP-REPOS/cmapplot/issues/115'>#115</a> | March 2, 2021</p>
<p>This pair of updates primarily makes many changes to <code><a href="../reference/finalize_plot.html">finalize_plot()</a></code> to enable printing plots without the left-hand “sidebar” – the area that contains the title and the caption. Most but not all changes are under the hood and should not impact the user. Those that will impact the user include:</p>
<ul>
<li>There is a new argument, <code>inherit</code>, that allows the user to specify whether cmapplot should attempt to inherit titles and/or captions from the underlying ggplot object.</li>
<li>The argument <code>title_width</code> has been renamed <code>sidebar_width</code> to better reflect its function.</li>
<li>Setting <code>sidebar_width = 0</code> now has the effect of shifting the title above the topline and shifting the caption from the title column to directly below the plot. If the user does not want a title on the vertical layout graphic, this can be achieved by leaving <code>title = ""</code>, the default, and (if relevant) specifying that <code><a href="../reference/finalize_plot.html">finalize_plot()</a></code> should not attempt to inherit a title from the underlying ggplot object.</li>
<li>There is a new argument, <code>caption_align</code>, which takes numeric range 0 to 1. <code>0</code>, the default, aligns the caption bottom or left (in title-column and below-plot captions, respectively). <code>1</code> aligns the caption top or right. <code>0.5</code> centers. The argument <code>caption_valign</code> has been deprecated.</li>
<li>The value <code>margin_title_l</code> has been replaced with <code>margin_sidebar_l</code>, which only affects horizontal layout graphics. The margin for titles and captions in the vertical layout is based on <code>margin_plot_l</code>.</li>
<li>Separately, this version also creates this <code>NEWS.md</code> file for the pkgdown website.</li>
</ul>
<p>Under-the-hood changes to <code><a href="../reference/finalize_plot.html">finalize_plot()</a></code> are documented in PR <a href='https://github.com/CMAP-REPOS/cmapplot/issues/111'>#111</a>, specifically <a href="https://github.com/CMAP-REPOS/cmapplot/pull/111#issuecomment-782779446">here</a>.</p>
<div id="backward-compatibility-notes-1" class="section level3">
<h3 class="hasAnchor">
<a href="#backward-compatibility-notes-1" class="anchor"></a>Backward compatibility notes</h3>
<p>Users who have written code with previous versions of cmapplot should note these known compatibility issues:</p>
<ul>
<li>In <code><a href="../reference/finalize_plot.html">finalize_plot()</a></code>, the argument <code>caption_valign</code> has been deprecated and will now issue a message alert (but will still work, for now). Please update your code to use the new argument <code>caption_align</code>.</li>
<li>In <code><a href="../reference/finalize_plot.html">finalize_plot()</a></code>, the argument <code>title_width</code> has been deprecated and will now issue a message alert (but will still work, for now). Please update your code to use the new argument <code>sidebar_width</code>.</li>
<li>Any overrides using the deprecated value <code>margin_title_l</code> will no longer have any affect. Use <code>margin_sidebar_l</code> instead.</li>
</ul>
</div>
</div>
    <div id="cmapplot-104" class="section level1">
<h1 class="page-header" data-toc-text="1.0.4">
<a href="#cmapplot-104" class="anchor"></a>cmapplot 1.0.4</h1>
<p>PR <a href='https://github.com/CMAP-REPOS/cmapplot/issues/110'>#110</a> | February 3, 2021</p>
<ul>
<li>The ggplot2 geom <code>geom_label</code> is now added to the list of geoms for which text aesthetics are automatically updated to CMAP style (ie to Whitney fonts). Previously, only <code>geom_text</code> and the custom <code>geom_text_last</code> were available in CMAP style.</li>
</ul>
</div>
    <div id="cmapplot-103" class="section level1">
<h1 class="page-header" data-toc-text="1.0.3">
<a href="#cmapplot-103" class="anchor"></a>cmapplot 1.0.3</h1>
<p>PR <a href='https://github.com/CMAP-REPOS/cmapplot/issues/107'>#107</a> | February 2, 2021</p>
<ul>
<li>Modified <code><a href="../reference/finalize_plot.html">finalize_plot()</a></code> to accept <code>title_width = 0</code> without causing a fuss. This is a short-term fix, with more improvements coming.</li>
<li>In <code>cmapplot_globals$consts</code>, eliminated <code>margin_title_r</code>, which created space between the title/caption and plotbox inside the title column. Replaced it with <code>margin_plot_l</code>, which creates the same buffer but does so in the plot column, not the title column. This was necessary to keep an active left-hand margin in situations where <code>title_width = 0</code>.</li>
</ul>
<div id="backward-compatibility-notes-2" class="section level3">
<h3 class="hasAnchor">
<a href="#backward-compatibility-notes-2" class="anchor"></a>Backward compatibility notes</h3>
<p>Users who have written code with previous versions of cmapplot should note these known compatibility issues:</p>
<ul>
<li>
<code>margin_title_r</code> no longer exists. Code that overrides this in <code><a href="../reference/finalize_plot.html">finalize_plot()</a></code> should not error, but will also have no effect on your plot. Change to <code>margin_plot_l</code>.</li>
<li>Titles and captions will be a bit wider (the width of the title and caption grobs are no longer modified by <code>margin_title_r</code>).</li>
<li>Plots will be a bit narrower (the width of the plotbox is now modified by <code>margin_plot_l</code>).</li>
</ul>
</div>
</div>
    <div id="cmapplot-102" class="section level1">
<h1 class="page-header" data-toc-text="1.0.2">
<a href="#cmapplot-102" class="anchor"></a>cmapplot 1.0.2</h1>
<p>PR <a href='https://github.com/CMAP-REPOS/cmapplot/issues/103'>#103</a> | January 11, 2021</p>
<ul>
<li>Fixed bug where custom color functions (e.g. <code><a href="../reference/cmap_fill_continuous.html">cmap_fill_continuous()</a></code> etc) did not allow for passing other arguments on to ggplot2’s <code>scale</code> functions (see issue <a href='https://github.com/CMAP-REPOS/cmapplot/issues/102'>#102</a>).</li>
</ul>
</div>
    <div id="cmapplot-101" class="section level1">
<h1 class="page-header" data-toc-text="1.0.1">
<a href="#cmapplot-101" class="anchor"></a>cmapplot 1.0.1</h1>
<p>PR <a href='https://github.com/CMAP-REPOS/cmapplot/issues/100'>#100</a> | December 9, 2020</p>
<ul>
<li>Improvement of tickmark handling via addition of <code>axisticks</code> argument in <code><a href="../reference/theme_cmap.html">theme_cmap()</a></code> and new <code>length_ticks</code> default value in <code>cmapplot_globals$consts</code>.</li>
<li>Substantial backend simplification of how <code><a href="../reference/theme_cmap.html">theme_cmap()</a></code> generates theme objects (not of substantial significance to users).</li>
</ul>
</div>
    <div id="cmapplot-100" class="section level1">
<h1 class="page-header" data-toc-text="1.0.0">
<a href="#cmapplot-100" class="anchor"></a>cmapplot 1.0.0</h1>
<p>December 1, 2020</p>
<ul>
<li>Initial package release.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matthew Stern, Sarah Buchhorn, Daniel Comeaux, Martin Menninger, Noel Peterson, Greta Ritzenthaler, <a href='https://www.cmap.illinois.gov'><img src="https://gist.githubusercontent.com/nmpeterson/c0d9b113b9ddbf17dbf5d3f875d58fb6/raw/08db1b4906b20af2f704e8d80a664b4599bf3cbc/cmap_logo_long.svg" height="28" alt="Chicago Metropolitan Agency for Planning logo">
</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


