<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CMAP Themes and Color Palettes â€¢ cmapplot</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="CMAP Themes and Color Palettes">
<meta property="og:description" content="Provides themes and color scales for ggplot2, based on Chicago
    Metropolitan Agency for Planning (CMAP) design guidelines.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">cmapplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="cmapplot" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#cmapplot" class="anchor"></a>cmapplot</h1></div>
<p>This R package provides themes and color scales for <a href="https://github.com/tidyverse/ggplot2"><code>ggplot2</code></a>, based on Chicago Metropolitan Agency for Planning (CMAP) design guidelines.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Run the following:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="co"># install.packages("devtools")</span>
<span class="kw">devtools</span>::<span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"CMAP-REPOS/cmapplot"</span>)
<span class="co"># then load the package as you would any other</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://cmap-repos.github.io/cmapplot">cmapplot</a></span>)
</pre></div>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>For testing, the <code>cmapplot</code> package contains a variety of sample datasets. Each dataset has a man file that can be queried for additional details. Datasets currently included are:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co">#&gt;  cluster_jobchange</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co">#&gt;  economy_basic</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">#&gt;  grp_over_time</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">#&gt;  percentile_wages</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co">#&gt;  pop_and_laborforce_by_age</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co">#&gt;  traded_emp_by_race</span></span></code></pre></div>
<p>The following provided code uses the sample datasets to produce publishable or near-publishable graphics:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="co"># A bar chart</span>
<span class="fu">ggplot</span>(<span class="kw">cluster_jobchange</span>, <span class="fu">aes</span>(x = <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span>(<span class="kw">name</span>, <span class="kw">jobchange</span>), y = <span class="kw">jobchange</span>, fill = <span class="kw">category</span>)) <span class="op">+</span>
  <span class="fu">geom_col</span>() <span class="op">+</span>
  <span class="fu">coord_flip</span>() <span class="op">+</span>
  <span class="fu"><a href="reference/theme_cmap.html">theme_cmap</a></span>()
</pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png"><!-- --></p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="co"># a stacked bar chart</span>
<span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="kw">traded_emp_by_race</span>, <span class="kw">variable</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"SpecializedTraded"</span>, <span class="st">"UnspecializedTraded"</span>)) <span class="op">%&gt;%</span>
  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x = <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span>(<span class="kw">Race</span>, <span class="op">-</span><span class="kw">value</span>), y = <span class="kw">value</span>, fill = <span class="kw">variable</span>)) <span class="op">+</span>
    <span class="fu">geom_col</span>(position = <span class="fu">position_stack</span>(reverse = <span class="fl">TRUE</span>)) <span class="op">+</span>
    <span class="fu">scale_y_continuous</span>(labels = <span class="kw">scales</span>::<span class="kw"><a href="https://scales.r-lib.org//reference/label_percent.html">percent</a></span>) <span class="op">+</span>
    <span class="fu"><a href="reference/theme_cmap.html">theme_cmap</a></span>()
</pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png"><!-- --></p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="co"># a grouped and stacked bar chart (via `interaction()`)</span>
<span class="fu">ggplot</span>(<span class="kw">pop_and_laborforce_by_age</span>, <span class="fu">aes</span>(x = <span class="fu"><a href="https://rdrr.io/r/base/interaction.html">interaction</a></span>(<span class="kw">year</span>, <span class="kw">variable</span>), y = <span class="kw">value</span>, fill = <span class="kw">age</span>)) <span class="op">+</span>
  <span class="fu">geom_col</span>(position = <span class="fu">position_stack</span>(reverse = <span class="fl">TRUE</span>)) <span class="op">+</span>
  <span class="fu">coord_flip</span>() <span class="op">+</span>
  <span class="fu"><a href="reference/theme_cmap.html">theme_cmap</a></span>()
</pre></div>
<p><img src="reference/figures/README-unnamed-chunk-6-1.png"><!-- --></p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="co"># a grouped and stacked bar chart (via `interaction()`)</span>
<span class="fu">ggplot</span>(<span class="kw">economy_basic</span>, <span class="fu">aes</span>(x = <span class="fu"><a href="https://rdrr.io/r/base/interaction.html">interaction</a></span>(<span class="kw">year</span>, <span class="kw">variable</span>), y = <span class="kw">value</span>, fill = <span class="kw">sector</span>)) <span class="op">+</span>
  <span class="fu">geom_col</span>(position = <span class="st">"fill"</span>) <span class="op">+</span>
  <span class="fu">scale_y_continuous</span>(labels = <span class="kw">scales</span>::<span class="kw"><a href="https://scales.r-lib.org//reference/label_percent.html">percent</a></span>) <span class="op">+</span>
  <span class="fu">coord_flip</span>() <span class="op">+</span>
  <span class="fu"><a href="reference/theme_cmap.html">theme_cmap</a></span>()
</pre></div>
<p><img src="reference/figures/README-unnamed-chunk-7-1.png"><!-- --></p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="co"># a non-time-series line chart</span>
<span class="fu">ggplot</span>(<span class="kw">percentile_wages</span>, <span class="fu">aes</span>(x = <span class="kw">percentile</span>, y = <span class="kw">wage</span>, color = <span class="kw">cluster</span>)) <span class="op">+</span>
  <span class="fu">geom_line</span>() <span class="op">+</span>
  <span class="fu">scale_y_continuous</span>(labels = <span class="kw">scales</span>::<span class="kw"><a href="https://scales.r-lib.org//reference/label_dollar.html">dollar</a></span>) <span class="op">+</span>
  <span class="fu"><a href="reference/theme_cmap.html">theme_cmap</a></span>()
</pre></div>
<p><img src="reference/figures/README-unnamed-chunk-8-1.png"><!-- --></p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="co"># a time-series line chart</span>
<span class="fu">ggplot</span>(<span class="kw">grp_over_time</span>, <span class="fu">aes</span>(x = <span class="kw">year</span>, y = <span class="kw">realgrp</span>, color = <span class="kw">cluster</span>)) <span class="op">+</span>
  <span class="fu">geom_line</span>() <span class="op">+</span>
  <span class="fu"><a href="reference/geom_text_lastonly.html">geom_text_lastonly</a></span>(add_points = <span class="fl">TRUE</span>) <span class="op">+</span>
  <span class="fu"><a href="reference/theme_cmap.html">theme_cmap</a></span>()
</pre></div>
<p><img src="reference/figures/README-unnamed-chunk-9-1.png"><!-- --></p>
</div>
<div id="using-cmap-palettes-in-r-ggplot" class="section level2">
<h2 class="hasAnchor">
<a href="#using-cmap-palettes-in-r-ggplot" class="anchor"></a>Using CMAP palettes in R ggplot</h2>
<p>Palettes based on the CMAP color palette can be applied directly to ggplot graphics. The package contains both discrete and continuous color palettes. Each type of palette can be applied to either the color or fill attributes of a ggplot.</p>
<div id="discrete-palettes" class="section level3">
<h3 class="hasAnchor">
<a href="#discrete-palettes" class="anchor"></a>Discrete palettes</h3>
<p>Add discrete palettes by adding either a <code>cmap_fill_discrete</code> or <code>cmap_color_discrete</code> object to a ggplot. Note that discrete palettes will automatically interpolate additional colors if the dataset has more colors than the palette. This can be helpful but is not ideal for finished graphics.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="fu">ggplot</span>(<span class="kw">percentile_wages</span>, <span class="fu">aes</span>(x = <span class="kw">percentile</span>, y = <span class="kw">wage</span>, color = <span class="kw">cluster</span>)) <span class="op">+</span>
  <span class="fu">geom_line</span>() <span class="op">+</span>
  <span class="fu">scale_y_continuous</span>(labels = <span class="kw">scales</span>::<span class="kw"><a href="https://scales.r-lib.org//reference/label_dollar.html">dollar</a></span>) <span class="op">+</span>
  <span class="fu"><a href="reference/theme_cmap.html">theme_cmap</a></span>() <span class="op">+</span>
  <span class="fu"><a href="reference/cmap_fill_discrete.html">cmap_color_discrete</a></span>(palette = <span class="st">"prosperity"</span>)
</pre></div>
<p><img src="reference/figures/README-unnamed-chunk-10-1.png"><!-- --></p>
<p>The following gradients are available:</p>
<p><img src="reference/figures/README-unnamed-chunk-11-1.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-11-2.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-11-3.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-11-4.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-11-5.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-11-6.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-11-7.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-11-8.png" width="50%" height="40%"></p>
</div>
<div id="continuous-palettes" class="section level3">
<h3 class="hasAnchor">
<a href="#continuous-palettes" class="anchor"></a>Continuous palettes</h3>
<p>Add continuous palettes by adding either a <code>cmap_fill_continuous</code> or <code>cmap_color_continuous</code> object to a ggplot. For example:</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="kw">percentile_wages</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="kw">cluster</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Biopharmaceuticals"</span>, <span class="st">"Hospitality and Tourism"</span>, <span class="st">"Paper and Packaging"</span>)) <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x = <span class="kw">cluster</span>, y = <span class="kw">wage</span>, color = <span class="kw">percentile</span>)) <span class="op">+</span>
    <span class="fu">geom_point</span>(size = <span class="fl">5</span>) <span class="op">+</span>
    <span class="fu">scale_y_continuous</span>(labels = <span class="kw">scales</span>::<span class="kw"><a href="https://scales.r-lib.org//reference/label_dollar.html">dollar</a></span>) <span class="op">+</span>
    <span class="fu">coord_flip</span>() <span class="op">+</span>
    <span class="fu"><a href="reference/theme_cmap.html">theme_cmap</a></span>() <span class="op">+</span>
    <span class="fu"><a href="reference/cmap_fill_continuous.html">cmap_color_continuous</a></span>(palette = <span class="st">"seq_red_purple"</span>)
</pre></div>
<p><img src="reference/figures/README-unnamed-chunk-12-1.png"><!-- --></p>
<div id="sequential-gradients-single--and-multi-hue" class="section level4">
<h4 class="hasAnchor">
<a href="#sequential-gradients-single--and-multi-hue" class="anchor"></a>Sequential gradients (single- and multi-hue)</h4>
<p><img src="reference/figures/README-unnamed-chunk-13-1.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-2.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-3.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-4.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-5.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-6.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-7.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-8.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-9.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-10.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-11.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-12.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-13.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-14.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-15.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-13-16.png" width="50%" height="40%"></p>
</div>
<div id="diverging-gradients" class="section level4">
<h4 class="hasAnchor">
<a href="#diverging-gradients" class="anchor"></a>Diverging gradients</h4>
<p><img src="reference/figures/README-unnamed-chunk-14-1.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-14-2.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-14-3.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-14-4.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-14-5.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-14-6.png" width="50%" height="40%"><img src="reference/figures/README-unnamed-chunk-14-7.png" width="50%" height="40%"></p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Matthew Stern <br><small class="roles"> Author, maintainer </small>  </li>
<li>Noel Peterson <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-1290-2362" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Matthew Stern, Noel Peterson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
